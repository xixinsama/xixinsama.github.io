@media ( max-width 768px )
  header
    left 0
    .navContent
      padding-left 0
extendList()
  display block
  &>.navItemList
    display inline-block
    width max-content
    min-width 100%
    margin 0

@media ( max-width 1023px )
  header
    width max(428px ,100% - 200px)
    max-width 100%
    position fixed
  nav
    max-width 428px
    height max-content
    min-height 100vh
    &::before
      content ""
      height 100%
      width 100%
      position absolute
      top 0
      left 0
      background-color var(--theme-bg-trans0)
      transform translateX(-100%)
      transition transform .6s
      pointer-events all
  .navContent
    overflow-y auto
    transform translateX(-100%)
    width 100%
    transition transform 0.6s
  .navItem
    padding .1em 4em
  .navBlock
    &:hover
      background-color unset
    box-sizing border-box
    align-items flex-end
    padding unset
    height 100%
  .navItemTitle
    color var(--theme-text-light)
    padding-bottom 5px
    border-bottom 1px solid var(--theme-unimportant)
  .active>:is(a,.navBlock)>.navItemTitle::before
    border-color var(--theme-highlight)
  .expanded
    .navContent,
    nav::before
      transform translateX(0%)
  .navItemList
    width 100%
    &>.navItem
      padding 0 0 0 1em
      width calc(100% - 1em)
  .navItemTitle:not(:only-child)::before
    content ''
    display inline-block
    height 6px
    width 6px
    border-top 2px solid var(--theme-highlight)
    border-right 2px solid var(--theme-highlight)
    margin 7px 7px 2px 2px
    transform rotate(45deg)
  .expanded,
  .expanded>.navBlock
    &>.navItemList
      margin-top 6px
      extendList()
    &>.navItemTitle:not(:only-child)::before
      transform rotate(135deg)

@media ( min-width 1024px )
  header
    width 180px
  .navItem
    width 120px
  .navBlock
    List-sum = 0
    for i in hexo-config("menu")
      List-sum += 3
    if hexo-config("search") && hexo-config("search.enable")
      List-sum += 2
    padding (30em/List-sum) 0
  .navBlock:hover
    background-color unset
  .navItemTitle
    color var(--theme-text-light)
    &::before
      height 100%
      top 0
      box-sizing border-box
  .navItemList
    width max-content
    min-width 100px
    position absolute
    background-color var(--theme-bg-hover)
    .navItem
      width 100%
      padding 0
      .navItemTitle
        box-sizing border-box
        color var(--theme-highlight)
      a:hover .navItemTitle
        color var(--theme-text-hover)
      &:hover>.navItemTitle
        background-color var(--theme-highlight)
        color var(--theme-text-hover)
  .navBlock,
  .navItem
    &:hover
      extendList()

@media ( min-width 1440px )
  header
    width 240px
  .navItem
    width 150px

@media ( min-width 1920px )
  header
    width 310px

#shadow-header
  @extend header
  @media (min-width 1024px)
    position static
